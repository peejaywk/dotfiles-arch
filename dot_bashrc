#
# ~/.bashrc
#
# Enable ble.sh
[[ $- == *i* ]] && source -- /usr/share/blesh/ble.sh --attach=none

# If not running interactively, don't do anything
[[ $- != *i* ]] && return

# Setup SSH agent and load keys
#
# SSH Agnet should be running once
if ! ps -ef | grep "[s]sh-agent" &>/dev/null; then
    echo Starting SSH Agent
    eval $(ssh-agent -s)
fi

# Add the ssh-keys if none are added. Set timeout to 1 day
if ! ssh-add -l &>/dev/null; then
     echo Adding keys...
     ssh-add -t 1d
fi


# Environment Variables

export EDITOR="vim"
export HISTTIMEFORMAT="%F %T "

# Directories

export REPOS="$HOME/Repos"
export GITUSER="peejaywk"
export GHREPOS="$REPOS/github.com/$GITUSER"
export DOTFILES="$HOME/.local/share/chezmoi"
export SCRIPTS="$DOTFILES/scripts"

source <(kubectl completion bash)
complete -o default -F __start_kubectl k

# -------- Aliases -------------

if command -v lsd > /dev/null ; then
  alias ls="lsd"
  alias ll="ls -lgh"
  alias la="ls -lathr"
  alias lla="ls -lgha"
  alias lt="ls --tree"
fi

alias kb='vim ~/keybindings.md'
alias grep='grep --color=auto'

alias repos='cd $REPOS'

# Git aliases
alias gs='git status'
alias gc='git commit'
alias ga='git add .'
alias gp='git pull'

# kubectl aliases
alias k='kubectl'
alias kgp='kubectl get pods'

PS1='[\u@\h \W]\$ '

# Enable the Atuin shell history manager
eval "$(atuin init bash)"

[[ ! ${BLE_VERSION-} ]] || ble-attach

### MANAGED BY RANCHER DESKTOP START (DO NOT EDIT)
export PATH="/home/peejaywk/.rd/bin:$PATH"
### MANAGED BY RANCHER DESKTOP END (DO NOT EDIT)
